<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>랜덤 미션 뽑기</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        #root {
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // 아이콘 컴포넌트
        const Sparkles = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M12 3l1.912 5.813a2 2 0 001.275 1.275L21 12l-5.813 1.912a2 2 0 00-1.275 1.275L12 21l-1.912-5.813a2 2 0 00-1.275-1.275L3 12l5.813-1.912a2 2 0 001.275-1.275L12 3z"/>
            </svg>
        );

        const Shuffle = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polyline points="16 3 21 3 21 8"/>
                <line x1="4" y1="20" x2="21" y2="3"/>
                <polyline points="21 16 21 21 16 21"/>
                <line x1="15" y1="15" x2="21" y2="21"/>
                <line x1="4" y1="4" x2="9" y2="9"/>
            </svg>
        );

        function MissionPicker() {
            // 샘플 미션 데이터
            const sampleMissions = [
                "10m 뒤로 걷기",
                "20초 동안 한 발로 서기",
                "5번 제자리 점프하기",
                "팀원과 하이파이브 10번",
                "30초 동안 플랭크 자세",
                "왕복 달리기 2회",
                "10번 스쿼트하기",
                "눈 감고 10m 걷기",
                "팀원 업고 5m 이동",
                "20초 동안 발끝으로 서기",
                "5번 버피 테스트",
                "손뼉 치며 20m 달리기",
                "게걸음으로 15m 이동",
                "앉았다 일어나기 15회",
                "팔굽혀펴기 10회",
                "제자리에서 10초 전력 질주",
                "양손 머리 위로 올리고 달리기",
                "뒤돌아서 출발선까지 달리기",
                "노래 부르며 달리기",
                "팀원과 등 맞대고 10m 이동",
                "토끼뜀으로 10m 이동",
                "박수 30번 치고 출발",
                "제자리에서 360도 회전 5번",
                "무릎 높이 들며 제자리 뛰기 20회",
                "팀원과 손잡고 달리기",
                "한쪽 다리로 콩콩 뛰며 10m 이동",
                "30초 동안 벽 짚고 서기",
                "뒤로 걸으며 노래 부르기",
                "5초 동안 큰 소리로 응원하기",
                "팔 벌려 비행기 자세로 달리기",
                "앉은 상태에서 출발하기",
                "윗몸 일으키기 10회",
                "팀원과 가위바위보 3번 이기기",
                "점프하며 손뼉 치기 10회",
                "한 발씩 번갈아 뛰며 전진",
                "무릎 터치하며 달리기",
                "팔 돌리며 20m 달리기",
                "까치발로 10m 이동",
                "제자리 높이뛰기 5회",
                "팀 구호 3번 외치기",
                "엎드렸다 일어나서 출발",
                "옆으로 사이드 스텝 15m",
                "손바닥으로 땅 짚고 출발",
                "양팔 앞으로 뻗고 달리기",
                "팀원 어깨 주무르기 10초"
            ];

            const [missions, setMissions] = useState([]);
            const [availableMissions, setAvailableMissions] = useState([]);
            const [currentMission, setCurrentMission] = useState('');
            const [isAnimating, setIsAnimating] = useState(false);

            useEffect(() => {
                setMissions(sampleMissions);
                setAvailableMissions([...sampleMissions]);
            }, []);

            const pickMission = () => {
                if (availableMissions.length === 0) {
                    setCurrentMission('모든 미션을 사용했습니다!\n"섞기"를 눌러주세요.');
                    return;
                }

                setIsAnimating(true);
                
                const randomIndex = Math.floor(Math.random() * availableMissions.length);
                const selected = availableMissions[randomIndex];
                
                setTimeout(() => {
                    setCurrentMission(selected);
                    setAvailableMissions(availableMissions.filter((_, idx) => idx !== randomIndex));
                    setIsAnimating(false);
                }, 300);
            };

            const shuffleMissions = () => {
                setAvailableMissions([...missions]);
                setCurrentMission('');
                setIsAnimating(false);
            };

            return (
                <div className="flex flex-col h-screen bg-gradient-to-br from-blue-50 to-indigo-100">
                    <div className="flex-1 flex items-center justify-center p-8">
                        <div className={`w-full h-full bg-white rounded-3xl shadow-2xl flex items-center justify-center p-12 transition-all duration-300 ${isAnimating ? 'scale-95 opacity-50' : 'scale-100 opacity-100'}`}>
                            <p className="text-4xl md:text-5xl lg:text-6xl font-bold text-gray-800 text-center leading-relaxed break-keep">
                                {currentMission || '미션을 뽑아보세요!'}
                            </p>
                        </div>
                    </div>

                    <div className="h-[7vh] min-h-[60px] bg-white border-t-4 border-indigo-200 flex items-center justify-center gap-4 px-8 shadow-lg">
                        <button
                            onClick={pickMission}
                            disabled={isAnimating}
                            className="flex-1 h-[80%] bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white font-bold text-2xl rounded-2xl shadow-lg transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3"
                        >
                            <Sparkles size={28} />
                            뽑기
                        </button>
                        
                        <button
                            onClick={shuffleMissions}
                            disabled={isAnimating}
                            className="flex-1 h-[80%] bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold text-2xl rounded-2xl shadow-lg transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3"
                        >
                            <Shuffle size={28} />
                            섞기
                        </button>
                    </div>

                    <div className="absolute top-4 right-4 bg-white px-6 py-3 rounded-full shadow-lg">
                        <p className="text-lg font-semibold text-gray-700">
                            남은 미션: <span className="text-indigo-600">{availableMissions.length}</span> / {missions.length}
                        </p>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<MissionPicker />, document.getElementById('root'));
    </script>
</body>
</html>